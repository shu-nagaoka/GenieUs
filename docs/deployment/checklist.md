# 🚀 デプロイ前チェックリスト

**詳細な設定手順については各専門ドキュメントを参照してください。**

## 📋 環境構築チェックリスト

**詳細な設定手順については [infrastructure.md#環境設定](infrastructure.md#環境設定) を参照してください。**

### 1. Google Cloud Project 設定
- [ ] GCPプロジェクト作成済み
- [ ] gcloud CLI インストール済み
- [ ] gcloud 認証完了 (`gcloud auth login`)
- [ ] プロジェクト選択完了 (`gcloud config set project PROJECT_ID`)
- [ ] 課金アカウント設定済み

### 2. 必要なAPI有効化
- [ ] Cloud Run API
- [ ] Container Registry API  
- [ ] Vertex AI API
- [ ] Cloud Storage API
- [ ] Cloud Logging API
- [ ] Cloud Monitoring API

### 3. 環境変数設定

**詳細な環境変数設定については [infrastructure.md#環境変数設定](infrastructure.md#環境変数設定) を参照してください。**

#### 必須チェック項目
- [ ] フロントエンド環境変数 (NEXTAUTH_*, GOOGLE_CLIENT_*)
- [ ] バックエンド環境変数 (GOOGLE_CLOUD_PROJECT, GOOGLE_API_KEY等)
- [ ] 環境別設定ファイル (.env.production)
- [ ] セキュリティ設定 (シークレット管理)

### 4. Google OAuth 設定

**詳細なOAuth設定については [infrastructure.md#認証設計](infrastructure.md#認証設計) を参照してください。**

- [ ] Google Cloud Console でOAuth 2.0 クライアントID作成
- [ ] 承認済みJavaScriptオリジン設定
- [ ] 承認済みリダイレクトURI設定
- [ ] 環境別URL設定 (staging/production)

### 5. IAM・セキュリティ設定
- [ ] Cloud Runサービスアカウント作成
- [ ] 必要最小限のIAM権限付与
- [ ] VPC設定（必要に応じて）
- [ ] セキュリティポリシー設定

## 🚀 デプロイ前最終チェック

### デプロイ方法選択
- [ ] **推奨**: Cloud Build デプロイ ([cloud-build-guide.md](cloud-build-guide.md))
- [ ] **代替**: 手動デプロイ ([overview.md](overview.md))
- [ ] **自動**: GitHub Actions設定済み ([infrastructure.md#CI-CD設計](infrastructure.md#CI-CD設計))

### 設定確認
- [ ] すべての環境変数が正しく設定されている
- [ ] OAuth設定が完了している
- [ ] 必要なAPI がすべて有効化されている
- [ ] IAM権限が適切に設定されている

### 動作確認準備
- [ ] ローカル開発環境での動作確認済み
- [ ] 単体テスト・統合テスト実行済み
- [ ] セキュリティチェック完了
- [ ] パフォーマンステスト実行済み

## 🔧 トラブルシューティング

**詳細なトラブルシューティングについては [overview.md#トラブルシューティング](overview.md#トラブルシューティング) を参照してください。**

### 緊急時クイックチェック
1. **認証エラー** → OAuth設定確認
2. **デプロイエラー** → 環境変数・API有効化確認
3. **接続エラー** → URL・CORS設定確認
4. **パフォーマンス問題** → リソース設定確認

### 問題解決フロー
1. **症状確認** - エラーメッセージ、ログ確認
2. **原因調査** - 設定、権限、リソース確認
3. **解決実施** - 設定修正、再デプロイ
4. **動作確認** - 機能テスト、パフォーマンステスト

**具体的な解決手順は上記リンクを参照してください。**

## 📊 デプロイ後確認事項

### 基本動作確認
- [ ] フロントエンドアクセス可能
- [ ] バックエンドAPI応答正常
- [ ] Google認証動作正常
- [ ] 基本機能動作確認

### パフォーマンス確認
- [ ] 応答時間が許容範囲内
- [ ] メモリ使用量が適切
- [ ] スケーリング動作正常
- [ ] エラー率が許容範囲内

### セキュリティ確認
- [ ] HTTPS接続確認
- [ ] CORS設定動作確認
- [ ] 認証・認可動作確認
- [ ] ログ出力正常

### 監視・運用準備
- [ ] ログ監視設定
- [ ] メトリクス監視設定
- [ ] アラート設定
- [ ] バックアップ設定

## 💰 コスト管理

**詳細なコスト分析については [infrastructure.md#コスト最適化](infrastructure.md#コスト最適化) を参照してください。**

### コスト最適化チェック
- [ ] リソース設定が適切
- [ ] 不要なサービス無効化
- [ ] 予算アラート設定
- [ ] 定期的なコスト見直し

---

このチェックリストに従って、段階的にデプロイメント準備を進めてください。各項目で問題が発生した場合は、対応するドキュメントを参照して解決してください。